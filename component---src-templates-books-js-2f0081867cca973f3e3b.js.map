{"version":3,"sources":["webpack:///./src/components/book-list.js","webpack:///./src/templates/books.js"],"names":["BookList","books","booksByYear","filter","book","dateFinish","sort","a","b","Date","reduce","acc","cur","console","log","getFullYear","className","map","key","id","fluid","image","childImageSharp","alt","title","style","width","progress","pages","Object","entries","reverse","year","length","BooksTemplate","useStaticQuery","allBooksYaml","nodes"],"mappings":"2MA4EeA,G,UAxEE,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACZC,EAAcD,EACjBE,QAAO,SAACC,GAAD,OAAUA,EAAKC,cACtBC,MAAK,SAACC,EAAGC,GAAJ,OAAU,IAAIC,KAAKD,EAAEH,YAAc,IAAII,KAAKF,EAAEF,eACnDK,QAAO,SAACC,EAAKC,GAMZ,OALAC,QAAQC,IAAIH,EAAIC,EAAG,aACnBD,EAAI,IAAIF,KAAKG,EAAG,YAAgBG,eAAhC,sBACMJ,EAAI,IAAIF,KAAKG,EAAG,YAAgBG,gBAAkB,IADxD,CAEEH,IAEKD,IACN,IAIL,OAFAE,QAAQC,IAAIZ,GAGV,oCACE,qCACA,wBAAIc,UAAU,aACZ,4BACE,iDACA,wBAAIA,UAAU,kBACXf,EACEE,QAAO,SAACC,GAAD,OAAWA,EAAKC,cACvBY,KAAI,SAACb,GAAD,OACH,wBAAIc,IAAKd,EAAKe,GAAIH,UAAU,QAC1B,kBAAC,IAAD,CACEI,MAAOhB,EAAKiB,MAAMC,gBAAgBF,MAClCG,IAAKnB,EAAKoB,QAEZ,yBAAKR,UAAU,gBACb,0BACES,MAAO,CACLC,MAActB,EAAKuB,SAAWvB,EAAKwB,MAA5B,IAAqC,cAQ3DC,OAAOC,QAAQ5B,GACb6B,UACAd,KAAI,gBAAEe,EAAF,KAAQ/B,EAAR,YACH,wBAAIiB,IAAKc,EAAMhB,UAAU,QACvB,4BACGgB,EACD,uCAAa/B,EAAMgC,QACnB,sCACQ,IACLhC,EACEgB,KAAI,SAACb,GAAD,OAAUA,EAAKwB,SACnBlB,QAAO,SAACC,EAAKC,GAAN,OAAcD,EAAMC,OAGlC,wBAAII,UAAU,kBACXf,EAAMgB,KAAI,SAACb,GAAD,OACT,wBAAIc,IAAKd,EAAKe,GAAIH,UAAU,QAC1B,kBAAC,IAAD,CACEI,MAAOhB,EAAKiB,MAAMC,gBAAgBF,MAClCG,IAAKnB,EAAKoB,qBCzBjBU,UAlCO,WACpB,IAwBMjC,EAxBOkC,yBAAe,aAwBTC,aAAaC,MAEhC,OACE,kBAAC,IAAD,KACE,kBAAC,EAAD,CAAUpC,MAAOA","file":"component---src-templates-books-js-2f0081867cca973f3e3b.js","sourcesContent":["import React from \"react\";\nimport Img from \"gatsby-image\";\nimport \"./book-list.css\";\n\nconst BookList = ({ books }) => {\n  const booksByYear = books\n    .filter((book) => book.dateFinish)\n    .sort((a, b) => new Date(b.dateFinish) - new Date(a.dateFinish))\n    .reduce((acc, cur) => {\n      console.log(acc[cur[\"dateFinish\"]]);\n      acc[new Date(cur[\"dateFinish\"]).getFullYear()] = [\n        ...(acc[new Date(cur[\"dateFinish\"]).getFullYear()] || []),\n        cur,\n      ];\n      return acc;\n    }, {});\n\n  console.log(booksByYear);\n\n  return (\n    <>\n      <h2>Books</h2>\n      <ul className=\"book-list\">\n        <li>\n          <h5>Currently Reading</h5>\n          <ul className=\"book-list-year\">\n            {books\n              .filter((book) => !book.dateFinish)\n              .map((book) => (\n                <li key={book.id} className=\"book\">\n                  <Img\n                    fluid={book.image.childImageSharp.fluid}\n                    alt={book.title}\n                  />\n                  <div className=\"progress-bar\">\n                    <span\n                      style={{\n                        width: 100 * (book.progress / book.pages) + \"%\",\n                      }}\n                    />\n                  </div>\n                </li>\n              ))}\n          </ul>\n        </li>\n        {Object.entries(booksByYear)\n          .reverse()\n          .map(([year, books]) => (\n            <li key={year} className=\"year\">\n              <h5>\n                {year}\n                <span>books {books.length}</span>\n                <span>\n                  pages{\" \"}\n                  {books\n                    .map((book) => book.pages)\n                    .reduce((acc, cur) => acc + cur)}\n                </span>\n              </h5>\n              <ul className=\"book-list-year\">\n                {books.map((book) => (\n                  <li key={book.id} className=\"book\">\n                    <Img\n                      fluid={book.image.childImageSharp.fluid}\n                      alt={book.title}\n                    />\n                  </li>\n                ))}\n              </ul>\n            </li>\n          ))}\n      </ul>\n    </>\n  );\n};\n\nexport default BookList;\n","import React from \"react\";\nimport { graphql, useStaticQuery } from \"gatsby\";\nimport Layout from \"../components/layout\";\nimport BookList from \"../components/book-list\";\n\nconst BooksTemplate = () => {\n  const data = useStaticQuery(graphql`\n    query {\n      allBooksYaml(sort: { fields: dateFinish, order: DESC }) {\n        nodes {\n          dateFinish\n          subtitle\n          progress\n          pages\n          id\n          title\n          author\n          url\n          image {\n            childImageSharp {\n              fluid {\n                ...GatsbyImageSharpFluid\n              }\n            }\n          }\n        }\n      }\n    }\n  `);\n\n  const books = data.allBooksYaml.nodes;\n\n  return (\n    <Layout>\n      <BookList books={books} />\n    </Layout>\n  );\n};\n\nexport default BooksTemplate;\n"],"sourceRoot":""}